Цель

В этом задании вы познакомитесь с основами управления данными с помощью DVC, управления экспериментами с использованием MLflow и автоматизации с ClearML. Ваша задача — интегрировать все три инструмента для построения полного цикла ML-проекта.


Часть 1: управление данными с DVC

Задача: использовать DVC для управления данными и построения ML-пайплайнов. Настроить удаленное хранилище и запустить пайплайн с использованием CI/CD.

Этапы выполнения

1. Добавление данных в DVC:

-Добавьте набор данных в проект, используя DVC.

-Закоммитьте изменения и добавьте DVC файлы в Git.

2. Настройка удаленного хранилища:

-Настройте удаленное хранилище для DVC (например, Google Drive, AWS S3).

-Убедитесь, что данные могут синхронизироваться с удаленным хранилищем.

3. Создание и запуск пайплайна:

-Создайте пайплайн для обработки данных (например, очистка данных или подготовка признаков).

-Закоммитьте пайплайн в DVC.

4. Интеграция DVC в CI/CD:

-Настройте пайплайн в CI/CD, который будет автоматически запускать DVC-процесс.

-Убедитесь, что пайплайн может корректно запускать шаги обработки данных.


Часть 2: управление экспериментами с MLflow

Задача: настроить MLflow для управления экспериментами и их сравнением.

Этапы выполнения

1. Настройка MLflow:

-Настройте MLflow для локальной работы или используйте удаленное хранилище.

-Убедитесь, что все логи и модели сохраняются корректно.

2. Запуск экспериментов:

-Проведите как минимум два эксперимента с разными параметрами моделей.

-Зафиксируйте все метрики экспериментов.

3. Сравнение моделей:

-Используйте MLflow для сравнения двух или более моделей по различным метрикам.

-Постройте отчет о производительности моделей.

4. Документация и отчет:

-Составьте отчет с визуализацией результатов экспериментов, включая графики метрик и выводы.


Часть 3: автоматизация экспериментов с ClearML

Задача: использовать ClearML для автоматизации процессов, создания и запуска пайплайнов.

Этапы выполнения

1. Настройка ClearML:

-Настройте ClearML сервер и интеграцию с проектом.

-Убедитесь, что все эксперименты логируются и доступны через веб-интерфейс.

2. Создание и запуск пайплайнов:

-Создайте автоматизированный пайплайн для запуска экспериментов и обработки данных.

-Запустите пайплайн через ClearML и убедитесь, что все шаги корректно выполняются.

3. Сравнение моделей:

-Используйте ClearML для сравнения результатов экспериментов и моделей.

-Составьте отчет с выводами.

4. Отчет и визуализация:

-Создайте отчет, содержащий визуализацию экспериментов и моделей, а также анализ результатов.

Выводы по экспериментам MLflow

В качестве данных был использован набор данных Iris, загруженный и предобработанный с помощью файлов download.py и process_data.py. Проведено два эксперимента с разными параметрами модели логистической регрессии:

Эксперимент 1

Параметры:

-C: 0.1

-solver: liblinear

Метрики:

-accuracy: 1.0

-Duration: 2.8s

Эксперимент 2

Параметры:

-C: 1.0

-solver: lbfgs

Метрики:

-accuracy: 0.8444

-Duration: 9.0s

По результатам экспериментов можно сделать вывод:

-Точность: Модель, обученная с параметрами C=0.1 и solver='liblinear', достигла более высокой точности (accuracy=1.0), чем модель с параметрами C=1.0 и solver='lbfgs' (accuracy=0.8444).

-Время обучения: Модель с параметрами C=1.0 и solver='lbfgs' обучалась значительно дольше (Duration=9.0s), чем модель с параметрами C=0.1 и solver='liblinear' (Duration=2.8s).

Автоматизированный ML-пайплайн с ClearML

Описание:

1. dvc_pull: Скачивание данных с DVC.
   
2. download_data: Загрузка исходных данных.

3. process_data: Предобработка данных.

4. train_model: Обучение модели.

5. dvc_repro: Обновление DVC.

6. dvc_push: Загрузка данных в DVC.

В экспериментах проверяем влияние параметров C и solver на качество модели Logistic Regression. Используемые параметры: 

-C=0.1, solver='liblinear'

-C=1.0, solver='lbfgs'

Вывод:

Модель с параметрами C=1.0 и solver='lbfgs' показала чуть более высокую accuracy (0.97) по сравнению с моделью C=0.1 и solver='liblinear' (0.95).
